-- Criação da sequência
CREATE SEQUENCE SEQ_ILUMINACAO
  START WITH 1
  INCREMENT BY 1
  NOCACHE
  NOCYCLE;

-- Criação da tabela
CREATE TABLE TBL_ILUMINACAO (
    ILUMINACAO_ID NUMBER(10) NOT NULL,
    NOME_RUA VARCHAR2(100) NOT NULL,
    NOME_CIDADE VARCHAR2(100) NOT NULL,
    STATUS_ILUMINACAO VARCHAR(10),
    CONSTRAINT PK_ILUMINACAO PRIMARY KEY (ILUMINACAO_ID)
);

-- Criação do gatilho para atribuir valores da sequência à coluna ILUMINACAO_ID
CREATE OR REPLACE TRIGGER TRG_ILUMINACAO_BI
BEFORE INSERT ON TBL_ILUMINACAO
FOR EACH ROW
BEGIN
    :NEW.ILUMINACAO_ID := SEQ_ILUMINACAO.NEXTVAL;
END;
/

